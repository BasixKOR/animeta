{"version":3,"sources":["webpack:///table-period.react.js","webpack:///./animeta/static/js/table-period.react.js","webpack:///./animeta/static/js/BaseStore.js","webpack:///./animeta/static/js/LazyImage.js?3e79","webpack:///./animeta/static/js/util.js?8da1","webpack:///./~/style-loader/addStyle.js?f100","webpack:///./animeta/static/less/table-period.less","webpack:///./animeta/static/flag-jp.png","webpack:///./animeta/static/flag-kr.png","webpack:///./animeta/static/less/table-period.less?3c2f"],"names":["webpackJsonp","module","exports","__webpack_require__","getLoginURL","encodeURIComponent","location","pathname","nullslast","val","ScheduleStore","initialData","BaseStore","call","this","$ScheduleStore_items","items","$ScheduleStore_ordering","window","localStorage","PERIOD","$ScheduleStore_containsKRSchedule","contains_kr_schedule","$ScheduleStore_sort","formatPeriod","period","parts","split","year","quarter","getDate","value","weekday","WEEKDAYS","getDay","util","zerofill","getMonth","getAppViewState","scheduleStore","getAllItems","ordering","getOrdering","excludeKR","containsKRSchedule","React","LazyImageView","scheduleComparator","keyComparator","item","schedule","jp","date","preferKRScheduleComparator","kr","recordCountComparator","record_count","comparatorMap","schedule.kr","recordCount","BaseStore____Key","hasOwnProperty","____SuperProtoOfBaseStore","prototype","Object","create","constructor","__superConstructor__","setOrdering","emitChange","sort","favoriteItem","$","post","work","title","status_type","then","result","record","id","record_id","event","bind","APP_DATA","HeaderView","createClass","displayName","render","options","props","label","switches","map","option","DOM","span","className","key","onClick","div","h1","SOURCE_TYPE_MAP","manga","original","lightnovel","game","4koma","visualnovel","novel","FavButton","active","i","count","ItemView","src","image_url","width","height","dangerouslySetInnerHTML","__html","template","getTemplateContext","handleFavButtonClick","USERNAME","alert","href","open","context","deepCopy","studios","join","source","forEach","country","Date","time","formatTime","broadcasts","statics","Handlebars","compile","html","NotificationView","getInitialState","hidden","componentWillUnmount","state","timer","clearTimeout","show","message","timeout","update","setTimeout","setState","AppView","componentDidMount","addChangeListener","_onChange","refs","notification","a","removeChangeListener","ref","data","b","renderComponent",34,"$BaseStore_listeners","callback","push","filter","cb",35,"invalidate","invalidation","blazy","revalidate","BLANK_IMG_URI","test","navigator","userAgent","document","documentElement","Blazy","transferPropsTo","img","data-src","componentDidUpdate",36,"keyFunc","n","String","length","getTime","getHours","getMinutes","HOURS","h","m","debounce","fn","t","self","obj","extend",53,"cssCode","Error","styleElement","createElement","type","head","getElementsByTagName","appendChild","styleSheet","cssText","createTextNode","removeChild",90,91,"p",92,167],"mappings":"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","file":"table-period.react.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 0:\n/*!*************************************************!*\\\n  !*** ./animeta/static/js/table-period.react.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @jsx React.DOM */\n\t\n\tvar React = __webpack_require__(/*! react */ 27);\n\tvar util = __webpack_require__(/*! ./util */ 36);\n\tvar BaseStore = __webpack_require__(/*! ./BaseStore */ 34);\n\tvar LazyImageView = __webpack_require__(/*! ./LazyImage */ 35);\n\t__webpack_require__(/*! ../less/table-period.less */ 167);\n\t\n\tfunction getLoginURL() {\n\t    return '/login/?next=' + encodeURIComponent(location.pathname);\n\t}\n\t\n\tfunction nullslast(val) {\n\t    return [!val, val];\n\t}\n\t\n\tvar scheduleComparator = util.keyComparator(function(item)  \n\t    {return nullslast(item.schedule.jp && item.schedule.jp.date);}\n\t);\n\t\n\tvar preferKRScheduleComparator = util.keyComparator(function(item) \n\t    {return nullslast(item.schedule.kr && item.schedule.kr.date\n\t        || item.schedule.jp && item.schedule.jp.date);}\n\t);\n\t\n\tvar recordCountComparator = util.keyComparator(function(item)  {return -item.record_count;});\n\t\n\tvar comparatorMap = {\n\t    'schedule': scheduleComparator,\n\t    'schedule.kr': preferKRScheduleComparator,\n\t    'recordCount': recordCountComparator\n\t};\n\t\n\tfor(var BaseStore____Key in BaseStore){if(BaseStore.hasOwnProperty(BaseStore____Key)){ScheduleStore[BaseStore____Key]=BaseStore[BaseStore____Key];}}var ____SuperProtoOfBaseStore=BaseStore===null?null:BaseStore.prototype;ScheduleStore.prototype=Object.create(____SuperProtoOfBaseStore);ScheduleStore.prototype.constructor=ScheduleStore;ScheduleStore.__superConstructor__=BaseStore;\n\t    function ScheduleStore(initialData) {\"use strict\";\n\t        BaseStore.call(this);\n\t        this.$ScheduleStore_items = initialData.items;\n\t        this.$ScheduleStore_ordering = window.localStorage['animeta.table.' + PERIOD + '.ordering'] || 'schedule';\n\t        this.$ScheduleStore_containsKRSchedule = initialData.contains_kr_schedule;\n\t        this.$ScheduleStore_sort();\n\t    }\n\t\n\t    ScheduleStore.prototype.getAllItems=function() {\"use strict\";\n\t        return this.$ScheduleStore_items;\n\t    };\n\t\n\t    ScheduleStore.prototype.getOrdering=function() {\"use strict\";\n\t        return this.$ScheduleStore_ordering;\n\t    };\n\t\n\t    ScheduleStore.prototype.setOrdering=function(ordering) {\"use strict\";\n\t        this.$ScheduleStore_ordering = ordering;\n\t        window.localStorage['animeta.table.' + PERIOD + '.ordering'] = ordering;\n\t        this.$ScheduleStore_sort();\n\t        this.emitChange();\n\t    };\n\t\n\t    ScheduleStore.prototype.$ScheduleStore_sort=function() {\"use strict\";\n\t        this.$ScheduleStore_items.sort(comparatorMap[this.$ScheduleStore_ordering]);\n\t    };\n\t\n\t    ScheduleStore.prototype.containsKRSchedule=function() {\"use strict\";\n\t        return this.$ScheduleStore_containsKRSchedule;\n\t    };\n\t\n\t    ScheduleStore.prototype.favoriteItem=function(item) {\"use strict\";\n\t        return $.post('/api/v1/records', {\n\t            work: item.title,\n\t            status_type: 'interested'\n\t        }).then(function(result)  {\n\t            item.record = {\n\t                id: result.record_id\n\t            };\n\t            item.record_count++;\n\t            this.emitChange({\n\t                event: 'favorite-added',\n\t                title: item.title\n\t            });\n\t        }.bind(this));\n\t    };\n\t\n\t\n\tvar scheduleStore = new ScheduleStore(APP_DATA);\n\t\n\tfunction formatPeriod(period) {\n\t    var parts = period.split('Q');\n\t    var year = parts[0], quarter = parts[1];\n\t    return year + '년 ' + [1, 4, 7, 10][quarter - 1] + '월';\n\t}\n\t\n\tvar HeaderView = React.createClass({displayName: 'HeaderView',\n\t    render:function() {\n\t        var period = formatPeriod(this.props.period);\n\t        var options;\n\t        if (!this.props.excludeKR) {\n\t            options = [\n\t                {value: 'schedule', label: '날짜 (日)'},\n\t                {value: 'schedule.kr', label: '날짜 (韓)'},\n\t                {value: 'recordCount', label: '인기'}\n\t            ];\n\t        } else {\n\t            options = [\n\t                {value: 'schedule', label: '날짜'},\n\t                {value: 'recordCount', label: '인기'}\n\t            ];\n\t        }\n\t        var switches = options.map(function(option)  {\n\t            return React.DOM.span({className: this.props.ordering == option.value ? 'active' : '', \n\t                key: option.value, \n\t                onClick: function()  {return scheduleStore.setOrdering(option.value);}}, option.label);\n\t        }.bind(this));\n\t        return (\n\t            React.DOM.div({className: \"page-header\"}, \n\t                React.DOM.div({className: \"settings\"}, \n\t                    React.DOM.div({className: \"settings-item prefer-kr\"}, \n\t                        React.DOM.label(null, \"정렬: \"), \n\t                        React.DOM.div({className: \"switch\"}, \n\t                            switches\n\t                        )\n\t                    )\n\t                ), \n\t                React.DOM.h1({className: \"page-title\"}, period, \" 신작\")\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tSOURCE_TYPE_MAP = {\n\t    'manga': '만화 원작', \n\t    'original': '오리지널',\n\t    'lightnovel': '라노베 원작',\n\t    'game': '게임 원작',\n\t    '4koma': '4컷 만화 원작',\n\t    'visualnovel': '비주얼 노벨 원작',\n\t    'novel': '소설 원작'\n\t};\n\t\n\tWEEKDAYS = ['일', '월', '화', '수', '목', '금', '토'];\n\t\n\tfunction getDate(value) {\n\t    var weekday = WEEKDAYS[value.getDay()];\n\t    return util.zerofill(value.getMonth() + 1) + '/' + util.zerofill(value.getDate()) + ' (' + weekday + ')';\n\t}\n\t\n\tvar FavButton = React.createClass({displayName: 'FavButton',\n\t    render:function() {\n\t        return (\n\t            React.DOM.label({className: 'btn-fav' + (this.props.active ? ' active' : ''), \n\t                onClick: this.props.onClick}, \n\t                React.DOM.i({className: \"fa fa-check\"}), \n\t                ' ' + this.props.count\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tvar ItemView = React.createClass({displayName: 'ItemView',\n\t    render:function() {\n\t        var item = this.props.item;\n\t        return (\n\t            React.DOM.div({className: \"item\"}, \n\t                React.DOM.div({className: \"item-inner\"}, \n\t                    React.DOM.div({className: \"item-poster-wrap\"}, \n\t                        LazyImageView({src: item.image_url, width: 233, height: 318, className: \"item-poster\"})\n\t                    ), \n\t                    React.DOM.div({dangerouslySetInnerHTML: {__html: ItemView.template(this.getTemplateContext())}}), \n\t                    React.DOM.div({className: \"item-actions\"}, \n\t                        FavButton({active: item.record != null, \n\t                            count: item.record_count, \n\t                            onClick: this.handleFavButtonClick})\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    handleFavButtonClick:function() {\n\t        if (!USERNAME) {\n\t            alert('로그인 후 관심 등록할 수 있습니다.');\n\t            location.href = getLoginURL();\n\t            return;\n\t        }\n\t\n\t        var self = this;\n\t        var record = this.props.item.record;\n\t        if (record) {\n\t            window.open('/records/' + record.id + '/');\n\t        } else {\n\t            scheduleStore.favoriteItem(this.props.item);\n\t        }\n\t    },\n\t\n\t    getTemplateContext:function() {\n\t        var context = util.deepCopy(this.props.item);\n\t        if (context.studios)\n\t            context.studios = context.studios.join(', ');\n\t        if (context.source)\n\t            context.source = SOURCE_TYPE_MAP[context.source];\n\t        if (!context.schedule.jp)\n\t            context.schedule.jp = {};\n\t        ['jp', 'kr'].forEach(function(country)  {\n\t            var schedule = context.schedule[country];\n\t            if (!schedule) {\n\t                return;\n\t            }\n\t            var date = schedule.date;\n\t            if (date) {\n\t                date = new Date(date);\n\t                schedule.date = getDate(date);\n\t                schedule.time = util.formatTime(date);\n\t            }\n\t            if (schedule.broadcasts)\n\t                schedule.broadcasts = schedule.broadcasts.join(', ');\n\t        });\n\t        return context;\n\t    },\n\t\n\t    statics: {\n\t        template: Handlebars.compile($('#template-item-info').html())\n\t    }\n\t});\n\t\n\tvar NotificationView = React.createClass({displayName: 'NotificationView',\n\t    getInitialState:function() {\n\t        return {hidden: true};\n\t    },\n\t\n\t    componentWillUnmount:function() {\n\t        if (this.state.timer)\n\t            clearTimeout(this.state.timer);\n\t    },\n\t\n\t    show:function(message, timeout) {\n\t        var update = {\n\t            message: message,\n\t            hidden: false\n\t        };\n\t        if (this.state.timer)\n\t            clearTimeout(this.state.timer);\n\t        if (timeout)\n\t            update.timer = setTimeout(function()  {return this.setState({hidden: true});}.bind(this), timeout);\n\t        this.setState(update);\n\t    },\n\t\n\t    render:function() {\n\t        return (\n\t            React.DOM.div({className: \"panel\" + (this.state.hidden ? ' hidden' : '')}, \n\t                React.DOM.div({className: \"panel-inner\"}, \n\t                this.state.message\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tfunction getAppViewState() {\n\t    return {\n\t        items: scheduleStore.getAllItems(),\n\t        ordering: scheduleStore.getOrdering(),\n\t        excludeKR: !scheduleStore.containsKRSchedule()\n\t    };\n\t}\n\t\n\tvar AppView = React.createClass({displayName: 'AppView',\n\t    getInitialState:function() {\n\t        return getAppViewState();\n\t    },\n\t\n\t    componentDidMount:function() {\n\t        scheduleStore.addChangeListener(this._onChange);\n\t        if (!USERNAME) {\n\t            this.refs.notification.show([\n\t                '관심 등록은 로그인 후 가능합니다. ',\n\t                React.DOM.a({href: getLoginURL(), className: \"btn btn-login\"}, \"로그인\")\n\t            ]);\n\t        }\n\t    },\n\t\n\t    componentWillUnmount:function() {\n\t        scheduleStore.removeChangeListener(this._onChange);\n\t    },\n\t\n\t    render:function() {\n\t        return (\n\t            React.DOM.div(null, \n\t                HeaderView({period: this.props.period, \n\t                    ordering: this.state.ordering, \n\t                    excludeKR: this.state.excludeKR}), \n\t\n\t                React.DOM.div({className: \"items\"}, \n\t                this.state.items.map(function(item) \n\t                    {return ItemView({item: item, key: item.id});}\n\t                )\n\t                ), \n\t\n\t                NotificationView({ref: \"notification\"})\n\t            )\n\t        );\n\t    },\n\t\n\t    _onChange:function(data) {\n\t        this.setState(getAppViewState());\n\t        if (data && data.event == 'favorite-added') {\n\t            this.refs.notification.show(['관심 등록 완료 — ', React.DOM.b(null, data.title)], 3000);\n\t        }\n\t    }\n\t});\n\t\n\tReact.renderComponent(AppView({period: PERIOD}), $('.anitable-container')[0]);\n\n\n/***/ },\n\n/***/ 34:\n/*!****************************************!*\\\n  !*** ./animeta/static/js/BaseStore.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t    function BaseStore() {\"use strict\";\n\t        this.$BaseStore_listeners = [];\n\t    }\n\t\n\t    BaseStore.prototype.addChangeListener=function(callback) {\"use strict\";\n\t        this.$BaseStore_listeners.push(callback);\n\t    };\n\t\n\t    BaseStore.prototype.removeChangeListener=function(callback) {\"use strict\";\n\t        this.$BaseStore_listeners = this.$BaseStore_listeners.filter(function(cb)  {return cb != callback;});\n\t    };\n\t\n\t    BaseStore.prototype.emitChange=function(data) {\"use strict\";\n\t        this.$BaseStore_listeners.forEach(function(callback)  {return callback(data);});\n\t    };\n\t\n\t\n\tmodule.exports = BaseStore;\n\n\n/***/ },\n\n/***/ 35:\n/*!****************************************!*\\\n  !*** ./animeta/static/js/LazyImage.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @jsx React.DOM */\n\t\n\tvar React = __webpack_require__(/*! react */ 27);\n\t\n\tvar BLANK_IMG_URI = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\t\n\tvar blazy = null;\n\t// Disable lazy loading on mobile browsers.\n\tif (!/i(Phone|Pad|Pod)|Android|Safari/.test(navigator.userAgent)) {\n\t    document.documentElement.className += ' b-fade';\n\t    blazy = new Blazy;\n\t}\n\t\n\tvar invalidations = null;\n\tfunction invalidate() {\n\t    if (!this.invalidation) {\n\t        this.invalidation = setTimeout(function()  {\n\t            blazy.revalidate();\n\t            this.invalidation = null;\n\t        }.bind(this), 0);\n\t    }\n\t}\n\t\n\tvar LazyImageView = blazy ? React.createClass({\n\t    render: function() {\n\t        return this.transferPropsTo(React.DOM.img({src: BLANK_IMG_URI, 'data-src': this.props.src, \n\t            width: this.props.width, height: this.props.height, className: \"b-lazy\"}));\n\t    },\n\t\n\t    componentDidMount:function() {\n\t        invalidate();\n\t    },\n\t\n\t    componentDidUpdate:function() {\n\t        invalidate();\n\t    }\n\t}) : React.DOM.img;\n\t\n\tmodule.exports = LazyImageView;\n\n\n/***/ },\n\n/***/ 36:\n/*!***********************************!*\\\n  !*** ./animeta/static/js/util.js ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports.keyComparator = function(keyFunc) {\n\t    return function(a, b)  {\n\t        a = keyFunc(a);\n\t        b = keyFunc(b);\n\t        if (a < b)\n\t            return -1;\n\t        if (a > b)\n\t            return 1;\n\t        return 0;\n\t    };\n\t};\n\t\n\tmodule.exports.zerofill = zerofill = function(n) {\n\t    n = String(n);\n\t    if (n.length == 1)\n\t        n = '0' + n;\n\t    return n;\n\t};\n\t\n\tmodule.exports.getTime = function(date) {\n\t    return zerofill(date.getHours()) + ':' + zerofill(date.getMinutes());\n\t};\n\t\n\tvar HOURS = [];\n\tfor (var h = 0; h < 24; h++) {\n\t    var result;\n\t    if (h < 12)\n\t        result = '오전 ' + h + '시';\n\t    else if (h == 12)\n\t        result = '정오';\n\t    else\n\t        result = '오후 ' + (h - 12) + '시';\n\t    HOURS[h] = result;\n\t}\n\t\n\tmodule.exports.formatTime = function(value) {\n\t    var result = HOURS[value.getHours()];\n\t    var m = value.getMinutes();\n\t    if (m > 0) {\n\t        result += ' ' + zerofill(m) + '분';\n\t    }\n\t    return result;\n\t};\n\t\n\tmodule.exports.debounce = function(fn, t) {\n\t    var timer;\n\t    return function() {\n\t        var self = this;\n\t        if (timer) clearTimeout(timer);\n\t        timer = setTimeout(function() {\n\t            fn.call(self);\n\t            timer = null;\n\t        }, t);\n\t    };\n\t};\n\t\n\tmodule.exports.deepCopy = function(obj) {\n\t    return $.extend(/*deep:*/ true, {}, obj);\n\t};\n\n\n/***/ },\n\n/***/ 53:\n/*!************************************!*\\\n  !*** ./~/style-loader/addStyle.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tmodule.exports = function addStyle(cssCode) {\r\n\t\tif(true) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n\t\thead.appendChild(styleElement);\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = cssCode;\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(document.createTextNode(cssCode));\r\n\t\t}\r\n\t\treturn function() {\r\n\t\t\thead.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\n\n/***/ },\n\n/***/ 90:\n/*!******************************************************************************!*\\\n  !*** ./~/css-loader!./~/less-loader!./animeta/static/less/table-period.less ***!\n  \\******************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports =\n\t\t\"#content{width:auto;padding:0}#nav{display:none}.anitable-container{color:#444;font-size:14px;line-height:1;max-width:962px;margin:20px auto;padding:0 10px}.anitable-container a{color:#666}.anitable-container form{margin:0}.page-title{font-size:20px;text-align:center;margin:0}.page-header{margin:0 0 20px;position:relative}.page-header .settings{position:absolute;right:0}.page-header .settings-item{float:left;margin-left:10px}.settings .switch{border:1px solid #27ae60;line-height:20px;display:inline-block}.settings .switch span{padding:0 5px;color:#666;display:inline-block;cursor:pointer}.settings .switch span:hover{color:#27ae60}.settings .switch .active{font-weight:700;background-color:#27ae60;color:#fff!important}.settings span:not(.active){position:relative}.settings span:not(.active):after{content:\\\"\\\";position:absolute;top:-12px;left:-12px;right:-12px;bottom:-12px}.items{clear:both;margin-left:-10px;overflow:hidden}.item{float:left;margin-bottom:10px;width:25%}.item-inner{margin-left:10px;position:relative;overflow:hidden;background:#2c3e50}.item-poster{display:block;width:100%;height:auto;position:absolute;top:0}.item-poster-wrap:before{content:\\\"\\\";display:block;padding-top:136.4806867%}.item-poster-wrap{position:relative;margin-bottom:34px}.b-fade .item-poster{opacity:0;transition:opacity 500ms ease-in-out 100ms;backface-visibility:hidden}.b-fade .item-poster.b-loaded{opacity:1}.item-frame{top:0;bottom:34px;box-shadow:inset 0 0 5px rgba(0,0,0,.25)}.item-frame,.item-overlay{position:absolute;left:0;right:0}.item-overlay{padding:12px 10px;bottom:0;color:#fff;background:#000;background:rgba(0,0,0,.8)}html.cssgradients .item-overlay{padding-top:40px;background:-webkit-linear-gradient(rgba(0,0,0,0)0,rgba(0,0,0,.65)50%,rgba(0,0,0,.9)100%);background:linear-gradient(rgba(0,0,0,0)0,rgba(0,0,0,.65)50%,rgba(0,0,0,.9)100%)}.item-actions{position:absolute;top:0;right:0;padding:10px}.item-actions .btn-fav{cursor:pointer}.btn-fav{display:block;height:32px;line-height:32px;text-align:center;border-radius:999em;padding:0 8px;text-decoration:none;box-shadow:0 2px 8px #222;font-size:18px;background:#fff;color:#444;border:3px solid #fff;transition:background-color .1s ease,border-color .1s ease,color .1s ease;position:relative}.btn-fav:hover{border-color:#27ae60}.btn-fav:active,.btn-fav.active{border-color:#27ae60;color:#fff;background-color:#27ae60}.btn-fav input{position:absolute;opacity:0;filter:alpha(opacity=0);cursor:pointer;pointer-events:none}html.touch .btn-fav{position:relative}html.touch .btn-fav:after{content:\\\"\\\";position:absolute;top:-12px;left:-12px;right:-12px;bottom:-12px}.item-links{position:absolute;left:0;right:0;bottom:0;height:33px;line-height:33px;text-align:center;background-color:#e8e8e8;border:1px solid #bbb;border-top:0}.item-links .link{font-size:12px;color:#444;text-decoration:none;margin-right:10px}.item-links .link:hover{text-decoration:underline}.item-links .link:last-child{margin-right:0}.item-title{font-size:16px;text-shadow:0 1px 0 #000;margin:0;line-height:1.2;padding-bottom:7px}.item-info{font-size:13px;color:#ddd;padding-bottom:10px}.item-info .studio,.item-info .source{white-space:nowrap}.item-schedule{font-size:13px;color:#fff;padding-bottom:2px}.item-schedule .date{font-weight:700;margin-right:2px}.item-schedule .broadcasts{color:#ccc;font-size:12px;white-space:nowrap}.item-schedule-jp:before{content:\\\"\\\";background:url(\"+__webpack_require__(/*! ../flag-jp.png */ 91)+\") left center no-repeat;background-size:16px 16px;padding-left:22px}.item-schedule-kr{padding-top:7px}.item-schedule-kr:before{content:\\\"\\\";background:url(\"+__webpack_require__(/*! ../flag-kr.png */ 92)+\") left center no-repeat;background-size:16px 16px;padding-left:22px}.panel-inner{max-width:962px;margin:0 auto}.panel{box-shadow:0 2px 8px #222;background:#27ae60;background:rgba(39,174,96,.95);padding:30px 10px;position:fixed;left:0;right:0;bottom:0;color:#fff;font-size:20px;text-align:center;transition:opacity 250ms ease,bottom 250ms ease;opacity:1}.panel.hidden{bottom:-100px;opacity:0}.panel .btn{display:inline-block;border-radius:5px;padding:10px 20px;text-decoration:none;font-size:16px;cursor:pointer;background:#fff;color:#444;border:3px solid #fff;transition:background-color .1s ease,border-color .1s ease,color .1s ease}.panel .btn:hover{border-color:#34495e}.panel .btn:active,.panel .btn.active{border-color:#34495e;color:#fff;background-color:#34495e}@media screen and (max-width:960px){.item{width:33.3333%}}@media screen and (max-width:640px){.page-title{text-align:left}.item{width:50%}.item-title{letter-spacing:-1px;font-size:15px}.item-info{font-size:12px}.item-schedule{letter-spacing:-1px}.item-schedule .broadcasts{display:none}.item-schedule-kr .broadcasts{display:inline}.panel{padding:20px 10px;font-size:16px;font-weight:700;line-height:1.5}.btn-fav,.btn-login{transition:none}}\";\n\n/***/ },\n\n/***/ 91:\n/*!************************************!*\\\n  !*** ./animeta/static/flag-jp.png ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"6a2cd71e1695e248f7500f7740bc2dbb.png\"\n\n/***/ },\n\n/***/ 92:\n/*!************************************!*\\\n  !*** ./animeta/static/flag-kr.png ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"882cfc5614e6f161bce888e08d4f9756.png\"\n\n/***/ },\n\n/***/ 167:\n/*!***********************************************!*\\\n  !*** ./animeta/static/less/table-period.less ***!\n  \\***********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\tvar dispose = __webpack_require__(/*! ./~/style-loader/addStyle.js */ 53)\n\t\t// The css code:\n\t\t(__webpack_require__(/*! !./~/css-loader!./~/less-loader!./animeta/static/less/table-period.less */ 90))\n\tif(false) {\n\t\tmodule.hot.accept();\n\t\tmodule.hot.dispose(dispose);\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** table-period.react.js\n **/","/** @jsx React.DOM */\n\nvar React = require('react');\nvar util = require('./util');\nvar BaseStore = require('./BaseStore');\nvar LazyImageView = require('./LazyImage');\nrequire('../less/table-period.less');\n\nfunction getLoginURL() {\n    return '/login/?next=' + encodeURIComponent(location.pathname);\n}\n\nfunction nullslast(val) {\n    return [!val, val];\n}\n\nvar scheduleComparator = util.keyComparator(function(item)  \n    {return nullslast(item.schedule.jp && item.schedule.jp.date);}\n);\n\nvar preferKRScheduleComparator = util.keyComparator(function(item) \n    {return nullslast(item.schedule.kr && item.schedule.kr.date\n        || item.schedule.jp && item.schedule.jp.date);}\n);\n\nvar recordCountComparator = util.keyComparator(function(item)  {return -item.record_count;});\n\nvar comparatorMap = {\n    'schedule': scheduleComparator,\n    'schedule.kr': preferKRScheduleComparator,\n    'recordCount': recordCountComparator\n};\n\nfor(var BaseStore____Key in BaseStore){if(BaseStore.hasOwnProperty(BaseStore____Key)){ScheduleStore[BaseStore____Key]=BaseStore[BaseStore____Key];}}var ____SuperProtoOfBaseStore=BaseStore===null?null:BaseStore.prototype;ScheduleStore.prototype=Object.create(____SuperProtoOfBaseStore);ScheduleStore.prototype.constructor=ScheduleStore;ScheduleStore.__superConstructor__=BaseStore;\n    function ScheduleStore(initialData) {\"use strict\";\n        BaseStore.call(this);\n        this.$ScheduleStore_items = initialData.items;\n        this.$ScheduleStore_ordering = window.localStorage['animeta.table.' + PERIOD + '.ordering'] || 'schedule';\n        this.$ScheduleStore_containsKRSchedule = initialData.contains_kr_schedule;\n        this.$ScheduleStore_sort();\n    }\n\n    ScheduleStore.prototype.getAllItems=function() {\"use strict\";\n        return this.$ScheduleStore_items;\n    };\n\n    ScheduleStore.prototype.getOrdering=function() {\"use strict\";\n        return this.$ScheduleStore_ordering;\n    };\n\n    ScheduleStore.prototype.setOrdering=function(ordering) {\"use strict\";\n        this.$ScheduleStore_ordering = ordering;\n        window.localStorage['animeta.table.' + PERIOD + '.ordering'] = ordering;\n        this.$ScheduleStore_sort();\n        this.emitChange();\n    };\n\n    ScheduleStore.prototype.$ScheduleStore_sort=function() {\"use strict\";\n        this.$ScheduleStore_items.sort(comparatorMap[this.$ScheduleStore_ordering]);\n    };\n\n    ScheduleStore.prototype.containsKRSchedule=function() {\"use strict\";\n        return this.$ScheduleStore_containsKRSchedule;\n    };\n\n    ScheduleStore.prototype.favoriteItem=function(item) {\"use strict\";\n        return $.post('/api/v1/records', {\n            work: item.title,\n            status_type: 'interested'\n        }).then(function(result)  {\n            item.record = {\n                id: result.record_id\n            };\n            item.record_count++;\n            this.emitChange({\n                event: 'favorite-added',\n                title: item.title\n            });\n        }.bind(this));\n    };\n\n\nvar scheduleStore = new ScheduleStore(APP_DATA);\n\nfunction formatPeriod(period) {\n    var parts = period.split('Q');\n    var year = parts[0], quarter = parts[1];\n    return year + '년 ' + [1, 4, 7, 10][quarter - 1] + '월';\n}\n\nvar HeaderView = React.createClass({displayName: 'HeaderView',\n    render:function() {\n        var period = formatPeriod(this.props.period);\n        var options;\n        if (!this.props.excludeKR) {\n            options = [\n                {value: 'schedule', label: '날짜 (日)'},\n                {value: 'schedule.kr', label: '날짜 (韓)'},\n                {value: 'recordCount', label: '인기'}\n            ];\n        } else {\n            options = [\n                {value: 'schedule', label: '날짜'},\n                {value: 'recordCount', label: '인기'}\n            ];\n        }\n        var switches = options.map(function(option)  {\n            return React.DOM.span({className: this.props.ordering == option.value ? 'active' : '', \n                key: option.value, \n                onClick: function()  {return scheduleStore.setOrdering(option.value);}}, option.label);\n        }.bind(this));\n        return (\n            React.DOM.div({className: \"page-header\"}, \n                React.DOM.div({className: \"settings\"}, \n                    React.DOM.div({className: \"settings-item prefer-kr\"}, \n                        React.DOM.label(null, \"정렬: \"), \n                        React.DOM.div({className: \"switch\"}, \n                            switches\n                        )\n                    )\n                ), \n                React.DOM.h1({className: \"page-title\"}, period, \" 신작\")\n            )\n        );\n    }\n});\n\nSOURCE_TYPE_MAP = {\n    'manga': '만화 원작', \n    'original': '오리지널',\n    'lightnovel': '라노베 원작',\n    'game': '게임 원작',\n    '4koma': '4컷 만화 원작',\n    'visualnovel': '비주얼 노벨 원작',\n    'novel': '소설 원작'\n};\n\nWEEKDAYS = ['일', '월', '화', '수', '목', '금', '토'];\n\nfunction getDate(value) {\n    var weekday = WEEKDAYS[value.getDay()];\n    return util.zerofill(value.getMonth() + 1) + '/' + util.zerofill(value.getDate()) + ' (' + weekday + ')';\n}\n\nvar FavButton = React.createClass({displayName: 'FavButton',\n    render:function() {\n        return (\n            React.DOM.label({className: 'btn-fav' + (this.props.active ? ' active' : ''), \n                onClick: this.props.onClick}, \n                React.DOM.i({className: \"fa fa-check\"}), \n                ' ' + this.props.count\n            )\n        );\n    }\n});\n\nvar ItemView = React.createClass({displayName: 'ItemView',\n    render:function() {\n        var item = this.props.item;\n        return (\n            React.DOM.div({className: \"item\"}, \n                React.DOM.div({className: \"item-inner\"}, \n                    React.DOM.div({className: \"item-poster-wrap\"}, \n                        LazyImageView({src: item.image_url, width: 233, height: 318, className: \"item-poster\"})\n                    ), \n                    React.DOM.div({dangerouslySetInnerHTML: {__html: ItemView.template(this.getTemplateContext())}}), \n                    React.DOM.div({className: \"item-actions\"}, \n                        FavButton({active: item.record != null, \n                            count: item.record_count, \n                            onClick: this.handleFavButtonClick})\n                    )\n                )\n            )\n        );\n    },\n\n    handleFavButtonClick:function() {\n        if (!USERNAME) {\n            alert('로그인 후 관심 등록할 수 있습니다.');\n            location.href = getLoginURL();\n            return;\n        }\n\n        var self = this;\n        var record = this.props.item.record;\n        if (record) {\n            window.open('/records/' + record.id + '/');\n        } else {\n            scheduleStore.favoriteItem(this.props.item);\n        }\n    },\n\n    getTemplateContext:function() {\n        var context = util.deepCopy(this.props.item);\n        if (context.studios)\n            context.studios = context.studios.join(', ');\n        if (context.source)\n            context.source = SOURCE_TYPE_MAP[context.source];\n        if (!context.schedule.jp)\n            context.schedule.jp = {};\n        ['jp', 'kr'].forEach(function(country)  {\n            var schedule = context.schedule[country];\n            if (!schedule) {\n                return;\n            }\n            var date = schedule.date;\n            if (date) {\n                date = new Date(date);\n                schedule.date = getDate(date);\n                schedule.time = util.formatTime(date);\n            }\n            if (schedule.broadcasts)\n                schedule.broadcasts = schedule.broadcasts.join(', ');\n        });\n        return context;\n    },\n\n    statics: {\n        template: Handlebars.compile($('#template-item-info').html())\n    }\n});\n\nvar NotificationView = React.createClass({displayName: 'NotificationView',\n    getInitialState:function() {\n        return {hidden: true};\n    },\n\n    componentWillUnmount:function() {\n        if (this.state.timer)\n            clearTimeout(this.state.timer);\n    },\n\n    show:function(message, timeout) {\n        var update = {\n            message: message,\n            hidden: false\n        };\n        if (this.state.timer)\n            clearTimeout(this.state.timer);\n        if (timeout)\n            update.timer = setTimeout(function()  {return this.setState({hidden: true});}.bind(this), timeout);\n        this.setState(update);\n    },\n\n    render:function() {\n        return (\n            React.DOM.div({className: \"panel\" + (this.state.hidden ? ' hidden' : '')}, \n                React.DOM.div({className: \"panel-inner\"}, \n                this.state.message\n                )\n            )\n        );\n    }\n});\n\nfunction getAppViewState() {\n    return {\n        items: scheduleStore.getAllItems(),\n        ordering: scheduleStore.getOrdering(),\n        excludeKR: !scheduleStore.containsKRSchedule()\n    };\n}\n\nvar AppView = React.createClass({displayName: 'AppView',\n    getInitialState:function() {\n        return getAppViewState();\n    },\n\n    componentDidMount:function() {\n        scheduleStore.addChangeListener(this._onChange);\n        if (!USERNAME) {\n            this.refs.notification.show([\n                '관심 등록은 로그인 후 가능합니다. ',\n                React.DOM.a({href: getLoginURL(), className: \"btn btn-login\"}, \"로그인\")\n            ]);\n        }\n    },\n\n    componentWillUnmount:function() {\n        scheduleStore.removeChangeListener(this._onChange);\n    },\n\n    render:function() {\n        return (\n            React.DOM.div(null, \n                HeaderView({period: this.props.period, \n                    ordering: this.state.ordering, \n                    excludeKR: this.state.excludeKR}), \n\n                React.DOM.div({className: \"items\"}, \n                this.state.items.map(function(item) \n                    {return ItemView({item: item, key: item.id});}\n                )\n                ), \n\n                NotificationView({ref: \"notification\"})\n            )\n        );\n    },\n\n    _onChange:function(data) {\n        this.setState(getAppViewState());\n        if (data && data.event == 'favorite-added') {\n            this.refs.notification.show(['관심 등록 완료 — ', React.DOM.b(null, data.title)], 3000);\n        }\n    }\n});\n\nReact.renderComponent(AppView({period: PERIOD}), $('.anitable-container')[0]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/js/table-period.react.js\n ** module id = 0\n ** module chunks = 2\n **/","\n    function BaseStore() {\"use strict\";\n        this.$BaseStore_listeners = [];\n    }\n\n    BaseStore.prototype.addChangeListener=function(callback) {\"use strict\";\n        this.$BaseStore_listeners.push(callback);\n    };\n\n    BaseStore.prototype.removeChangeListener=function(callback) {\"use strict\";\n        this.$BaseStore_listeners = this.$BaseStore_listeners.filter(function(cb)  {return cb != callback;});\n    };\n\n    BaseStore.prototype.emitChange=function(data) {\"use strict\";\n        this.$BaseStore_listeners.forEach(function(callback)  {return callback(data);});\n    };\n\n\nmodule.exports = BaseStore;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/js/BaseStore.js\n ** module id = 34\n ** module chunks = 2 3\n **/","/** @jsx React.DOM */\n\nvar React = require('react');\n\nvar BLANK_IMG_URI = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\nvar blazy = null;\n// Disable lazy loading on mobile browsers.\nif (!/i(Phone|Pad|Pod)|Android|Safari/.test(navigator.userAgent)) {\n    document.documentElement.className += ' b-fade';\n    blazy = new Blazy;\n}\n\nvar invalidations = null;\nfunction invalidate() {\n    if (!this.invalidation) {\n        this.invalidation = setTimeout(function()  {\n            blazy.revalidate();\n            this.invalidation = null;\n        }.bind(this), 0);\n    }\n}\n\nvar LazyImageView = blazy ? React.createClass({\n    render: function() {\n        return this.transferPropsTo(React.DOM.img({src: BLANK_IMG_URI, 'data-src': this.props.src, \n            width: this.props.width, height: this.props.height, className: \"b-lazy\"}));\n    },\n\n    componentDidMount:function() {\n        invalidate();\n    },\n\n    componentDidUpdate:function() {\n        invalidate();\n    }\n}) : React.DOM.img;\n\nmodule.exports = LazyImageView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/js/LazyImage.js\n ** module id = 35\n ** module chunks = 1 2\n **/","module.exports.keyComparator = function(keyFunc) {\n    return function(a, b)  {\n        a = keyFunc(a);\n        b = keyFunc(b);\n        if (a < b)\n            return -1;\n        if (a > b)\n            return 1;\n        return 0;\n    };\n};\n\nmodule.exports.zerofill = zerofill = function(n) {\n    n = String(n);\n    if (n.length == 1)\n        n = '0' + n;\n    return n;\n};\n\nmodule.exports.getTime = function(date) {\n    return zerofill(date.getHours()) + ':' + zerofill(date.getMinutes());\n};\n\nvar HOURS = [];\nfor (var h = 0; h < 24; h++) {\n    var result;\n    if (h < 12)\n        result = '오전 ' + h + '시';\n    else if (h == 12)\n        result = '정오';\n    else\n        result = '오후 ' + (h - 12) + '시';\n    HOURS[h] = result;\n}\n\nmodule.exports.formatTime = function(value) {\n    var result = HOURS[value.getHours()];\n    var m = value.getMinutes();\n    if (m > 0) {\n        result += ' ' + zerofill(m) + '분';\n    }\n    return result;\n};\n\nmodule.exports.debounce = function(fn, t) {\n    var timer;\n    return function() {\n        var self = this;\n        if (timer) clearTimeout(timer);\n        timer = setTimeout(function() {\n            fn.call(self);\n            timer = null;\n        }, t);\n    };\n};\n\nmodule.exports.deepCopy = function(obj) {\n    return $.extend(/*deep:*/ true, {}, obj);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/js/util.js\n ** module id = 36\n ** module chunks = 1 2\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function addStyle(cssCode) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tvar head = document.getElementsByTagName(\"head\")[0];\r\n\thead.appendChild(styleElement);\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = cssCode;\r\n\t} else {\r\n\t\tstyleElement.appendChild(document.createTextNode(cssCode));\r\n\t}\r\n\treturn function() {\r\n\t\thead.removeChild(styleElement);\r\n\t};\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyle.js\n ** module id = 53\n ** module chunks = 1 2\n **/","#content{width:auto;padding:0}#nav{display:none}.anitable-container{color:#444;font-size:14px;line-height:1;max-width:962px;margin:20px auto;padding:0 10px}.anitable-container a{color:#666}.anitable-container form{margin:0}.page-title{font-size:20px;text-align:center;margin:0}.page-header{margin:0 0 20px;position:relative}.page-header .settings{position:absolute;right:0}.page-header .settings-item{float:left;margin-left:10px}.settings .switch{border:1px solid #27ae60;line-height:20px;display:inline-block}.settings .switch span{padding:0 5px;color:#666;display:inline-block;cursor:pointer}.settings .switch span:hover{color:#27ae60}.settings .switch .active{font-weight:bold;background-color:#27ae60;color:#fff !important}.settings span:not(.active){position:relative}.settings span:not(.active):after{content:\"\";position:absolute;top:-12px;left:-12px;right:-12px;bottom:-12px}.items{clear:both;margin-left:-10px;overflow:hidden}.item{float:left;margin-bottom:10px;width:25%}.item-inner{margin-left:10px;position:relative;overflow:hidden;background:#2c3e50}.item-poster{display:block;width:100%;height:auto;position:absolute;top:0}.item-poster-wrap:before{content:\"\";display:block;padding-top:136.4806867%}.item-poster-wrap{position:relative;margin-bottom:34px}.b-fade .item-poster{opacity:0;transition:opacity 500ms ease-in-out 100ms;backface-visibility:hidden}.b-fade .item-poster.b-loaded{opacity:1}.item-frame{position:absolute;left:0;right:0;top:0;bottom:34px;box-shadow:inset 0 0 5px rgba(0,0,0,0.25)}.item-overlay{padding:12px 10px;position:absolute;left:0;right:0;bottom:0;color:#fff;background:#000;background:rgba(0,0,0,0.8)}html.cssgradients .item-overlay{padding-top:40px;background:-webkit-linear-gradient(rgba(0,0,0,0) 0, rgba(0,0,0,0.65) 50%, rgba(0,0,0,0.9) 100%);background:linear-gradient(rgba(0,0,0,0) 0, rgba(0,0,0,0.65) 50%, rgba(0,0,0,0.9) 100%)}.item-actions{position:absolute;top:0;right:0;padding:10px}.item-actions .btn-fav{cursor:pointer}.btn-fav{display:block;height:32px;line-height:32px;text-align:center;border-radius:999em;padding:0 8px;text-decoration:none;box-shadow:0 2px 8px #222;font-size:18px;background:#fff;color:#444;border:3px solid #fff;transition:background-color .1s ease,border-color .1s ease,color .1s ease;position:relative}.btn-fav:hover{border-color:#27ae60}.btn-fav:active,.btn-fav.active{border-color:#27ae60;color:#fff;background-color:#27ae60}.btn-fav input{position:absolute;opacity:0;filter:alpha(opacity=0);cursor:pointer;pointer-events:none}html.touch .btn-fav{position:relative}html.touch .btn-fav:after{content:\"\";position:absolute;top:-12px;left:-12px;right:-12px;bottom:-12px}.item-links{position:absolute;left:0;right:0;bottom:0;height:33px;line-height:33px;text-align:center;background-color:#e8e8e8;border:1px solid #bbb;border-top:0}.item-links .link{font-size:12px;color:#444;text-decoration:none;margin-right:10px}.item-links .link:hover{text-decoration:underline}.item-links .link:last-child{margin-right:0}.item-title{font-size:16px;text-shadow:0 1px 0 #000;margin:0;line-height:1.2;padding-bottom:7px}.item-info{font-size:13px;color:#ddd;padding-bottom:10px}.item-info .studio,.item-info .source{white-space:nowrap}.item-schedule{font-size:13px;color:#fff;padding-bottom:2px}.item-schedule .date{font-weight:bold;margin-right:2px}.item-schedule .broadcasts{color:#ccc;font-size:12px;white-space:nowrap}.item-schedule-jp:before{content:\"\";background:url(../flag-jp.png) left center no-repeat;background-size:16px 16px;padding-left:22px}.item-schedule-kr{padding-top:7px}.item-schedule-kr:before{content:\"\";background:url(../flag-kr.png) left center no-repeat;background-size:16px 16px;padding-left:22px}.panel-inner{max-width:962px;margin:0 auto}.panel{box-shadow:0 2px 8px #222;background:#27ae60;background:rgba(39,174,96,0.95);padding:30px 10px;position:fixed;left:0;right:0;bottom:0;color:#fff;font-size:20px;text-align:center;transition:opacity 250ms ease,bottom 250ms ease;opacity:1}.panel.hidden{bottom:-100px;opacity:0}.panel .btn{display:inline-block;border-radius:5px;padding:10px 20px;text-decoration:none;font-size:16px;cursor:pointer;background:#fff;color:#444;border:3px solid #fff;transition:background-color .1s ease,border-color .1s ease,color .1s ease}.panel .btn:hover{border-color:#34495e}.panel .btn:active,.panel .btn.active{border-color:#34495e;color:#fff;background-color:#34495e}@media screen and (max-width:960px){.item{width:33.3333%}}@media screen and (max-width:640px){.page-title{text-align:left}.item{width:50%}.item-title{letter-spacing:-1px;font-size:15px}.item-info{font-size:12px}.item-schedule{letter-spacing:-1px}.item-schedule .broadcasts{display:none}.item-schedule-kr .broadcasts{display:inline}.panel{padding:20px 10px;font-size:16px;font-weight:bold;line-height:1.5}.btn-fav,.btn-login{transition:none}}\n\n\n/** WEBPACK FOOTER **\n ** ./~/less-loader!./animeta/static/less/table-period.less\n **/","module.exports = __webpack_public_path__ + \"6a2cd71e1695e248f7500f7740bc2dbb.png\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/flag-jp.png\n ** module id = 91\n ** module chunks = 2\n **/","module.exports = __webpack_public_path__ + \"882cfc5614e6f161bce888e08d4f9756.png\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/flag-kr.png\n ** module id = 92\n ** module chunks = 2\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\nvar dispose = require(\"!/home/ditto/animeta/node_modules/style-loader/addStyle.js\")\n\t// The css code:\n\t(require(\"!!/home/ditto/animeta/node_modules/css-loader/index.js!/home/ditto/animeta/node_modules/less-loader/index.js!/home/ditto/animeta/animeta/static/less/table-period.less\"))\nif(module.hot) {\n\tmodule.hot.accept();\n\tmodule.hot.dispose(dispose);\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./animeta/static/less/table-period.less\n ** module id = 167\n ** module chunks = 2\n **/"],"sourceRoot":""}